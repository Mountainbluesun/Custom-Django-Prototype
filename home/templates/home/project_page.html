{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block content %}

<div class="container" style="max-width: 900px; margin: auto; padding: 40px 20px;">

    <h1>{{ page.title }}</h1>

    {# --- DESCRIPTION : RichTextField --- #}
    {% if page.description %}
        <section style="margin: 20px 0;">
            {{ page.description|richtext }}
        </section>
    {% endif %}

    {# --- HERO IMAGE : StreamField [image] --- #}
    {% if page.hero_image %}
        {% for block in page.hero_image %}
            {% if block.block_type == "image" %}
                <div style="margin: 30px 0;">
                    {% image block.value original as img %}
                    <img src="{{ img.url }}" alt="{{ page.title }}" style="max-width: 100%; border-radius: 8px;">
                </div>
            {% endif %}
        {% endfor %}
    {% endif %}

    {# --- CONTENT : StreamField texte + titre --- #}
    {% if page.content %}
        <section style="margin-top: 40px;">
            {% for block in page.content %}
                {% if block.block_type == "title" %}
                    <h2>{{ block.value }}</h2>
                {% elif block.block_type == "text" %}
                    {{ block.value|richtext }}
                {% endif %}
            {% endfor %}
        </section>
    {% endif %}

</div>

{% endblock %}
