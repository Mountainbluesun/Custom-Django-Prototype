{% extends "base.html" %}

{% block title %}Liste des utilisateurs{% endblock %}

{% block content %}
  <h1>Utilisateurs</h1>

  {% if request.user.is_authenticated and request.user.is_admin %}
      <p><a href="{% url 'users:create' %}" class="btn btn-primary">➕ Créer un utilisateur</a></p>
  {% endif %}

  <ul class="list-group">
    {% for user_item in users %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ user_item.username }} ({{ user_item.email }})
        <div>
          <a href="{% url 'users:edit' user_item.id %}" class="btn btn-secondary btn-sm">Modifier</a>
          <a href="{% url 'users:delete' user_item.id %}" class="btn btn-danger btn-sm">Supprimer</a>
        </div>
      </li>
    {% empty %}
      <li class="list-group-item">Aucun utilisateur trouvé.</li>
    {% endfor %}
  </ul>
{% endblock %}